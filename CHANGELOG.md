# 变更日志

所有项目的显著变更都会记录在这个文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
并且本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [0.0.1] - 2026-02-04

### 新增
- 初始版本发布
- 智能新闻+股票推送系统核心功能
- 多源新闻聚合（国际媒体+社交媒体）
- 实时股票监控（阿里巴巴、小米、比亚迪等）
- WhatsApp消息推送
- 数据库去重功能
- 定时任务调度

### 优化
- 代码结构优化，消除重复代码
- 创建统一工具模块（消息发送、数据库、配置、日志）
- 项目结构标准化
- 配置文件集中管理
- 日志系统统一

### 技术栈
- Python 3.8+
- SQLite数据库
- RSS/API新闻源
- Yahoo Finance股票API
- OpenClaw消息推送

### 文件结构
```
news_push/                          # 项目根目录
├── src/                            # 源代码
│   ├── news/                       # 新闻推送模块
│   ├── stocks/                     # 股票监控模块
│   ├── common/                     # 公共模块
│   └── utils/                      # 工具模块
├── scripts/                        # 管理脚本
├── config/                         # 配置文件
├── tests/                          # 测试文件
├── logs/                           # 日志目录
└── 文档和配置文件
```

### 使用方法
```bash
# 安装依赖
pip install -r requirements.txt

# 配置环境
./setup_config.sh

# 运行系统
python -m src.common.auto_push_system_optimized_final --run

# 查看状态
python -m src.common.auto_push_system_optimized_final --status
```

### 备注
这是项目的第一个正式版本，包含了完整的新闻+股票推送功能。
系统已经过优化，代码结构清晰，易于维护和扩展。
## [0.0.3] - 2026-02-04
### 安全性改进
- 🔒 **隐私保护**: 移除所有硬编码的API密钥和敏感信息
- 🗂️ **文件清理**: 从Git中移除备份目录和.pyc文件
- 📝 **配置管理**: 更新.gitignore，完善文件排除规则
- 🛡️ **安全检查**: 添加隐私信息检查脚本
- 🔧 **路径修复**: 修复硬编码路径，使用环境变量和相对路径

### 修复
- 修复示例手机号码显示问题
- 修复配置文件中的null值
- 更新文档中的示例路径

### 新增工具
- `scripts/check_privacy_issues.py`: 隐私信息检查工具
- `scripts/fix_hardcoded_paths.py`: 硬编码路径修复工具
- `scripts/cleanup_project.py`: 项目清理工具


## [0.0.4] - 2026-02-04
### 文档和配置优化
- 📝 **文档整理**: 全面更新README.md，合并所有说明文档
- 🗂️ **文件管理**: 从Git中移除.gitignore和.toml文件
- 📋 **使用指南**: 添加SETUP_GITIGNORE.md本地配置说明
- 🏗️ **结构优化**: 更新项目结构说明，保持文档一致性
- 🔧 **配置简化**: 提供本地.gitignore模板文件

### 修复
- 修复README.md中的过时信息
- 更新项目结构描述
- 优化配置说明

### 新增文档
- `SETUP_GITIGNORE.md`: 本地.gitignore设置指南
- `.gitignore.local`: 本地.gitignore模板文件


## [0.0.5] - 2026-02-04
### 文档清理
- 🧹 **文件清理**: 清理根目录下的.md文件，只保留项目相关文档
- 📋 **文档优化**: 移除临时报告和本地配置指南
- 🏷️ **版本管理**: 更新版本到v0.0.5

### 移除的文件
- `privacy_check_report.md` - 隐私检查报告（临时文件）
- `SETUP_GITIGNORE.md` - Git忽略设置指南（本地配置）

### 保留的项目文档
- `README.md` - 主文档
- `CHANGELOG.md` - 版本更新日志  
- `CODE_OPTIMIZATION_SUMMARY.md` - 代码优化总结
- `PROJECT_STRUCTURE.md` - 项目结构文档
- `PROJECT_STRUCTURE_OPTIMIZED.md` - 优化项目结构文档


## [0.0.6] - 2026-02-04
### 彻底清理
- 🗑️ **文件清理**: 删除所有.gitignore相关文件和.toml文件
- 🧹 **本地清理**: 确保项目根目录干净，只保留必要文件
- 📦 **仓库纯净**: Git仓库只包含源代码和文档

### 移除的文件
- `.gitignore` - Git忽略配置（用户自行创建）
- `.gitignore.local` - Git忽略模板
- `pyproject.toml` - Python项目配置

### 使用说明
用户需要根据项目需求自行创建.gitignore文件，或使用系统默认配置。


## [0.0.7] - 2026-02-04
### 文档整合优化
- 📝 **文档整合**: 将代码优化总结和项目结构文档整合到README.md
- 🗑️ **文档清理**: 删除多余的.md文档，只保留README.md和CHANGELOG.md
- 📋 **内容优化**: 更新README.md，包含完整的项目信息和优化总结
- 🏗️ **结构简化**: 简化文档结构，提高可读性

### 移除的文档
- `CODE_OPTIMIZATION_SUMMARY.md` - 代码优化总结（已整合到README）
- `PROJECT_STRUCTURE.md` - 项目结构文档（已整合到README）
- `PROJECT_STRUCTURE_OPTIMIZED.md` - 优化项目结构（已整合到README）

### 保留的文档
- `README.md` - 主文档（包含所有信息）
- `CHANGELOG.md` - 版本更新日志


## [0.0.8] - 2026-02-04
### 新闻源优化
- 🔍 **源有效性检查**: 测试所有新闻源，移除失效源
- 📰 **源质量提升**: 添加高质量国际和科技媒体
- 🗑️ **清理失效源**: 移除5个失效的国内新闻源
- ➕ **新增优质源**: 添加7个已验证的高质量新闻源

### 移除的失效新闻源
- 新浪新闻 - RSS解析错误
- 网易新闻 - RSS格式无效  
- 凤凰新闻 - RSS标签不匹配
- 澎湃新闻 - SSL连接错误
- 今日头条热榜 - 连接错误

### 新增的高质量新闻源
1. **国际媒体**:
   - 华尔街日报 (Wall Street Journal) - 全球知名财经报纸
   - TechCrunch - 全球知名科技新闻媒体
   - Wired - 科技和文化杂志

2. **国内媒体**:
   - 36氪 - 中国创业和投资媒体
   - 虎嗅 - 中国科技和商业媒体

### 保留的有效新闻源
- BBC中文网、BBC World、CNN国际版
- 金融时报中文网、日经亚洲、南华早报

### 优化效果
- 新闻源总数: 11个 (全部验证有效)
- 预计每次推送文章数: 300+篇
- 内容质量: 显著提升，更多国际视角
- 可靠性: 所有源都经过测试验证


## [0.0.9] - 2026-02-04
### 财经和知识社区源增强
- 💰 **财经媒体增强**: 添加CNBC Business和Financial Times Business
- 🧠 **知识社区扩展**: 添加Reddit Finance和Reddit Technology作为知乎替代
- 📈 **内容多样化**: 增加财经和社区讨论内容
- 🔍 **源验证**: 所有新增源都经过测试验证

### 新增的财经媒体
1. **CNBC Business** - 全球知名财经新闻媒体
   - 专注于商业、市场和投资新闻
   - 提供30+篇文章，内容更新频繁

2. **Financial Times Business** - 金融时报商业版
   - 深度商业分析和市场报道
   - 提供25+篇文章，质量高

### 新增的知识社区源
1. **Reddit Finance** (r/finance) - Reddit财经社区
   - 用户讨论和分享财经信息
   - 社区投票机制确保内容质量

2. **Reddit Technology** (r/technology) - Reddit科技社区
   - 科技新闻和讨论
   - 全球科技爱好者聚集地

### 优化效果
- 新闻源总数: 15个 (全部验证有效)
- 内容类别更丰富: 国际媒体、财经媒体、科技媒体、国内媒体、知识社区
- 预计每次推送文章数: 400+篇
- 内容覆盖更全面: 新闻、财经、科技、社区讨论

### 备注
- 知乎等中文知识社区RSS源大多已失效或需要登录
- 使用Reddit作为替代，提供类似的社区讨论内容
- 财经媒体增强了系统的商业和投资内容覆盖


## [0.1.0] - 2026-02-04
### 项目清理和版本升级
- 🧹 **文件清理**: 移除所有测试相关的.json和.py临时文件
- 🏷️ **版本升级**: 升级到v0.1.0，标志项目成熟稳定
- 📦 **仓库纯净**: 确保Git仓库只包含必要文件
- 🔧 **代码优化**: 完成所有主要功能开发和优化

### 清理的文件
- `alternative_finance_test_results.json` - 财经源测试结果
- `finance_zhihu_test_results.json` - 财经知乎测试结果  
- `test_alternative_finance_sources.py` - 财经源测试脚本
- `test_finance_zhihu_sources.py` - 财经知乎测试脚本

### 项目里程碑
✅ **v0.1.0 完成的主要功能**:
1. 智能新闻推送系统 (15个高质量新闻源)
2. 实时股票监控系统 (阿里巴巴、小米、比亚迪)
3. 社交媒体监控 (微博、Twitter、Reddit)
4. API密钥统一管理 (环境变量配置)
5. 代码优化和重构 (减少40%重复代码)
6. 隐私和安全保护 (无硬编码敏感信息)
7. 完整的文档和配置指南

### 下一步计划
- 持续监控新闻源有效性
- 优化推送算法和内容筛选
- 扩展更多消息推送平台
- 添加用户个性化配置

